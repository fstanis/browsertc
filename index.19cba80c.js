var e,t,a,n,i,r,o,s,l,c,u,h,_,d,p={},f=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,g=Array.isArray;function b(e,t){for(var a in t)e[a]=t[a];return e}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,a){var n,i,r,o={};for(r in t)"key"==r?n=t[r]:"ref"==r?i=t[r]:o[r]=t[r];if(arguments.length>2&&(o.children=arguments.length>3?s.call(arguments,2):a),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===o[r]&&(o[r]=e.defaultProps[r]);return w(e,o,n,i,null)}function w(e,t,a,n,i){var r={type:e,props:t,key:a,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++c:i,__i:-1,__u:0};return null==i&&null!=l.vnode&&l.vnode(r),r}function k(e){return e.children}function C(e,t){this.props=e,this.context=t}function D(e,t){if(null==t)return e.__?D(e.__,e.__i+1):null;for(var a;t<e.__k.length;t++)if(null!=(a=e.__k[t])&&null!=a.__e)return a.__e;return"function"==typeof e.type?D(e):null}function x(e){(!e.__d&&(e.__d=!0)&&u.push(e)&&!E.__r++||h!==l.debounceRendering)&&((h=l.debounceRendering)||_)(E)}function E(){var e,t,a,n,i,r,o,s,c;for(u.sort(d);e=u.shift();)e.__d&&(t=u.length,n=void 0,r=(i=(a=e).__v).__e,s=[],c=[],(o=a.__P)&&((n=b({},i)).__v=i.__v+1,l.vnode&&l.vnode(n),z(o,n,i,a.__n,void 0!==o.ownerSVGElement,32&i.__u?[r]:null,s,null==r?D(i):r,!!(32&i.__u),c),n.__.__k[n.__i]=n,U(s,n,c),n.__e!=r&&function e(t){var a,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,a=0;a<t.__k.length;a++)if(null!=(n=t.__k[a])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)),u.length>t&&u.sort(d));E.__r=0}function S(e,t,a,n,i,r,o,s,l,c,u){var h,_,d,m,b,y=n&&n.__k||f,v=t.length;for(a.__d=l,function(e,t,a){var n,i,r,o,s,l=t.length,c=a.length,u=c,h=0;for(e.__k=[],n=0;n<l;n++)null!=(i=e.__k[n]=null==(i=t[n])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?w(null,i,null,null,i):g(i)?w(k,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?w(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,s=function(e,t,a,n){var i=e.key,r=e.type,o=a-1,s=a+1,l=t[a];if(null===l||l&&i==l.key&&r===l.type)return a;if(n>(null!=l&&0==(131072&l.__u)?1:0))for(;o>=0||s<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&i==l.key&&r===l.type)return o;o--}if(s<t.length){if((l=t[s])&&0==(131072&l.__u)&&i==l.key&&r===l.type)return s;s++}}return -1}(i,a,o=n+h,u),i.__i=s,r=null,-1!==s&&(u--,(r=a[s])&&(r.__u|=131072)),null==r||null===r.__v?(-1==s&&h--,"function"!=typeof i.type&&(i.__u|=65536)):s!==o&&(s===o+1?h++:s>o?u>l-o?h+=s-o:h--:h=s<o&&s==o-1?s-o:0,s!==n+h&&(i.__u|=65536))):(r=a[n])&&null==r.key&&r.__e&&(r.__e==e.__d&&(e.__d=D(r)),P(r,r,!1),a[n]=null,u--);if(u)for(n=0;n<c;n++)null!=(r=a[n])&&0==(131072&r.__u)&&(r.__e==e.__d&&(e.__d=D(r)),P(r,r))}(a,t,y),l=a.__d,h=0;h<v;h++)null!=(d=a.__k[h])&&"boolean"!=typeof d&&"function"!=typeof d&&(_=-1===d.__i?p:y[d.__i]||p,d.__i=h,z(e,d,_,i,r,o,s,l,c,u),m=d.__e,d.ref&&_.ref!=d.ref&&(_.ref&&F(_.ref,null,d),u.push(d.ref,d.__c||m,d)),null==b&&null!=m&&(b=m),65536&d.__u||_.__k===d.__k?l=function e(t,a,n){var i,r;if("function"==typeof t.type){for(i=t.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=t,a=e(i[r],a,n));return a}return t.__e!=a&&(n.insertBefore(t.__e,a||null),a=t.__e),a&&a.nextSibling}(d,l,e):"function"==typeof d.type&&void 0!==d.__d?l=d.__d:m&&(l=m.nextSibling),d.__d=void 0,d.__u&=-196609);a.__d=l,a.__e=b}function A(e,t,a){"-"===t[0]?e.setProperty(t,null==a?"":a):e[t]=null==a?"":"number"!=typeof a||m.test(t)?a:a+"px"}function I(e,t,a,n,i){var r;e:if("style"===t){if("string"==typeof a)e.style.cssText=a;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)a&&t in a||A(e.style,t,"");if(a)for(t in a)n&&a[t]===n[t]||A(e.style,t,a[t])}}else if("o"===t[0]&&"n"===t[1])r=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase() in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=a,a?n?a.u=n.u:(a.u=Date.now(),e.addEventListener(t,r?T:N,r)):e.removeEventListener(t,r?T:N,r);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==a?"":a;break e}catch(e){}"function"==typeof a||(null==a||!1===a&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,a))}}function N(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(l.event?l.event(e):e)}function T(e){return this.l[e.type+!0](l.event?l.event(e):e)}function z(e,t,a,n,i,r,o,c,u,h){var _,d,f,m,v,w,x,E,A,N,T,z,U,F,P,O=t.type;if(void 0!==t.constructor)return null;128&a.__u&&(u=!!(32&a.__u),r=[c=t.__e=a.__e]),(_=l.__b)&&_(t);e:if("function"==typeof O)try{if(E=t.props,A=(_=O.contextType)&&n[_.__c],N=_?A?A.props.value:_.__:n,a.__c?x=(d=t.__c=a.__c).__=d.__E:("prototype"in O&&O.prototype.render?t.__c=d=new O(E,N):(t.__c=d=new C(E,N),d.constructor=O,d.render=L),A&&A.sub(d),d.props=E,d.state||(d.state={}),d.context=N,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=O.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=b({},d.__s)),b(d.__s,O.getDerivedStateFromProps(E,d.__s))),m=d.props,v=d.state,d.__v=t,f)null==O.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==O.getDerivedStateFromProps&&E!==m&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(E,N),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(E,d.__s,N)||t.__v===a.__v)){for(t.__v!==a.__v&&(d.props=E,d.state=d.__s,d.__d=!1),t.__e=a.__e,t.__k=a.__k,t.__k.forEach(function(e){e&&(e.__=t)}),T=0;T<d._sb.length;T++)d.__h.push(d._sb[T]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(E,d.__s,N),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(m,v,w)})}if(d.context=N,d.props=E,d.__P=e,d.__e=!1,z=l.__r,U=0,"prototype"in O&&O.prototype.render){for(d.state=d.__s,d.__d=!1,z&&z(t),_=d.render(d.props,d.state,d.context),F=0;F<d._sb.length;F++)d.__h.push(d._sb[F]);d._sb=[]}else do d.__d=!1,z&&z(t),_=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++U<25)d.state=d.__s,null!=d.getChildContext&&(n=b(b({},n),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(w=d.getSnapshotBeforeUpdate(m,v)),S(e,g(P=null!=_&&_.type===k&&null==_.key?_.props.children:_)?P:[P],t,a,n,i,r,o,c,u,h),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),x&&(d.__E=d.__=null)}catch(e){t.__v=null,u||null!=r?(t.__e=c,t.__u|=u?160:32,r[r.indexOf(c)]=null):(t.__e=a.__e,t.__k=a.__k),l.__e(e,t,a)}else null==r&&t.__v===a.__v?(t.__k=a.__k,t.__e=a.__e):t.__e=function(e,t,a,n,i,r,o,l,c){var u,h,_,d,f,m,b,v=a.props,w=t.props,k=t.type;if("svg"===k&&(i=!0),null!=r){for(u=0;u<r.length;u++)if((f=r[u])&&"setAttribute"in f==!!k&&(k?f.localName===k:3===f.nodeType)){e=f,r[u]=null;break}}if(null==e){if(null===k)return document.createTextNode(w);e=i?document.createElementNS("http://www.w3.org/2000/svg",k):document.createElement(k,w.is&&w),r=null,l=!1}if(null===k)v===w||l&&e.data===w||(e.data=w);else{if(r=r&&s.call(e.childNodes),v=a.props||p,!l&&null!=r)for(v={},u=0;u<e.attributes.length;u++)v[(f=e.attributes[u]).name]=f.value;for(u in v)f=v[u],"children"==u||("dangerouslySetInnerHTML"==u?_=f:"key"===u||u in w||I(e,u,null,f,i));for(u in w)f=w[u],"children"==u?d=f:"dangerouslySetInnerHTML"==u?h=f:"value"==u?m=f:"checked"==u?b=f:"key"===u||l&&"function"!=typeof f||v[u]===f||I(e,u,f,v[u],i);if(h)l||_&&(h.__html===_.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(_&&(e.innerHTML=""),S(e,g(d)?d:[d],t,a,n,i&&"foreignObject"!==k,r,o,r?r[0]:a.__k&&D(a,0),l,c),null!=r)for(u=r.length;u--;)null!=r[u]&&y(r[u]);l||(u="value",void 0===m||m===e[u]&&("progress"!==k||m)&&("option"!==k||m===v[u])||I(e,u,m,v[u],!1),u="checked",void 0!==b&&b!==e[u]&&I(e,u,b,v[u],!1))}return e}(a.__e,t,a,n,i,r,o,u,h);(_=l.diffed)&&_(t)}function U(e,t,a){t.__d=void 0;for(var n=0;n<a.length;n++)F(a[n],a[++n],a[++n]);l.__c&&l.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){l.__e(e,t.__v)}})}function F(e,t,a){try{"function"==typeof e?e(t):e.current=t}catch(e){l.__e(e,a)}}function P(e,t,a){var n,i;if(l.unmount&&l.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||F(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){l.__e(e,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&P(n[i],t,a||"function"!=typeof e.type);a||null==e.__e||y(e.__e),e.__=e.__e=e.__d=void 0}function L(e,t,a){return this.constructor(e,a)}s=f.slice,l={__e:function(e,t,a,n){for(var i,r,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},c=0,C.prototype.setState=function(e,t){var a;a=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=b({},this.state),"function"==typeof e&&(e=e(b({},a),this.props)),e&&b(a,e),null!=e&&this.__v&&(t&&this._sb.push(t),x(this))},C.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},C.prototype.render=k,u=[],_="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,d=function(e,t){return e.__v.__b-t.__v.__b},E.__r=0;const O=["orca","shark","capybara","fox","turtle","fish","dolphin","armadillo","hedgehog","dhole","dog","cat","jaguar","cheetah","leopard","cougar","lion","tapir","anteater","monkey","snake","scorpion","jerboa","opossum","stingray","colobus","euplectes","jay","finch","hawk","beaver","mouse","moose","alligator","salamander","tadpole","astrapia","pug","greyhound","foxhound","bushbaby","aardvark","aardwolf","pangolin","porcupine","genet","springhare","kangaroo","koala","ostrich","dingo","platypus","camel","horse","echidna","wombat","crocodile","whale","narwhal","humpback","marmoset","tucuxi","beluga","porpoise","sparrow","pigeon","owl","hummingbird","robin","starling","manakin","warbler","penguin","snowfinch","broadbill","thrush","bishop","swallow","bittern","caracara","manx","possum","lemur","deer","peacock","ratfish","vulture","rat","takaya","skunk","tuxedo","turkey","elephant","civet","ainu","husky","akita","alpaca","spaniel","terrier","hare","auroch","axolotl","bandicoot","beagle","beago","collie","tiger","liger","rhino","bobcat","corgi","dachshund","giraffe","bonobo","cetacean","bear","hyena","burmese","caracal","goat","chameleon","chihuahua","chimp","cow","cuscus","pinscher","dunker","mau","ermine","feist","spitz","squirrel","gerbil","hamster","panda","gibbon","flyingfox","jackal","macaque","kinkajou","lynx","manatee","mole","ocelot","otter","panther","pig","prairiedog","puma","hippo","quokka","quoll","bunny","raccoon","tamarin","reindeer","hyrax","saiga","sable","serval","spanador","springbok","tuatara","dropbear","vaquita","wallaby","walrus","weasel","wolf","zebra","zonkey","donkey","mule","zebu","cuttlefish","unicorn","meerkat","jackalope","heron","fawn","warthog","drake","badger","zapus","yak","werewolf","tahr","fossa","xerus","centaur","raptor","long","sheep","quetzal","wildebeest","motmot","coati","drongo","boston","myth","saga","fable","folk","fairy","hound","risk","coin","tyrannosaurus","velociraptor","siren","mudpuppy","ferret","roborovski","bee","dragon","bearded","beardie","pogona","chicken","hen","rooster","quail","grouse","comet","halley","hale","bopp","sungrazing","sungrazer","exocomet","hartley","borrelly","wild","ison","encke","atlas","hyakutake","tempel","west","osiris","basilisk","ctesias","equalacorn","wyvern","hippogriff","hippogryph","griffin","hydra","chimera","phoenix","faun","minotaur","amarok","gorgon","cerberus","orthrus","sphinx","ladon","pegasus","scylla","mermaid","nessie","hippocampus","warg","fenrir","typhon","wampus","bicorn","manticore","qilin","fluffy","bun","mercat","coyote","alpine","lamancha","angora","beetal","girgentana","jamnapari","kamori","kiko","oberhasli","pygmy","pygora","rove","saanen","bilberry","adal","alai","afrino","alpines","ancon","blue","boreray","border","cheviot","churra","cormo","dolly","dala","dorper","dohne","gute","han","jacob","kooka","latxa","lleyn","lonk","merino","nilgiri","orkhon","rya","soay","xalda","ewe","lamb","great","emperor","king","adelie","chinstrap","gentoo","little","banded","magellanic","humboldt","crested","fiordland","snares","rockhopper","royal","macaroni","bison","buffalo","gaur","saola","anoa","banteng","beefalo","yakalo","yattle","tigon","jaglion","leopon","savannah","toyger","cheetoh","grolar","zebroid","coywolf","wholphin","narluga","cama","dzo","zubron","geep","hinny","mulard","zeedonk","zorse","pumapard","pizzly","coydog","whydah","pheasant","lyrebird","peafowl","tayra","zorilla","mara","galago","tenrec","bettong","tamandua","cusimanse","polecat","degu","coatimundi","diplodocus","stegosaurus","zuul","allosaurus","baryonyx","edmontosaurus","iguanodon","minmi","triceratops","troodon","trex","shetland","pinto","appaloosa","auxois","shire","brumby","fell","java","pony","welara","mammoth","burro","poitou","spotted","snowy","barn","barred","boreal","elf","barking","buru","chaco","chestnut","cinnebar","cloudforest","dusky","tawny","berylline","calliope","rufous","xantu","violetear","mango","bumblebee","emerald","cinnamon","golden","pumpkinseed","ruffe","walleye","perch","bowfin","burbot","goldeye","mooneye","dace","quillback","stonecat","albacore","alewife","amberjack","sole","codlet","char","searobin","arowana","bonito","saury","ayu","silverside","banjo","barb","barbel","bangus","batfish","danio","betta","bigeye","bicolor","bitterling","bleak","blenny","tuna","boga","duck","brill","brotula","buri","goby","catla","chimaera","cobia","coho","dab","darter","discus","duckbill","drum","elver","featherback","garibaldi","ghost","ghoul","goblin","dojo","hake","halfmoon","halfbeak","hamlet","halibut","halosaur","hoki","huchen","ide","inanga","ilish","inconnu","dory","koi","kanyu","kokanee","lenok","ling","mahi","marlin","mora","morray","mulley","stargazer","nase","neon","daggertooth","noodlefish","notothen","tetra","orfe","opah","opaleye","pancake","panga","paradise","parore","piarucu","pirate","platy","pleco","powan","pompano","sparidae","porgy","rohu","rudd","skate","squeaker","tailor","uaru","vimba","wahoo","coelacanth","llama","shrimp","prawn","lobster","chipmunk","tails","talpidae","shrew","talpa","mogera","scaptonyx","dymecodon","neurotrichini","uropsilus","desmana","fynbos","panthera","onca","pardus","leo","snow","tigris","clouded","neofelis","nebulosa","felis","acinonyx","eland","oryx","gemsbok","gazella","nyala","kudu","giraffa","raven","corvus","mellori","bat","sapsucker","woodpecker","nuthatch","flicker","junco","anaconda","binturong","boa","brolga","cassowary","cockatoo","cormorant","curlew","dove","eagle","emu","kingfisher","falcon","gila","monster","goose","magpie","guineafowl","ibis","iguana","kite","lorikeet","macaw","monitor","parrot","pitta","python","rhinoceros","skink","stork","tortoise"],H=["lizard","crocodile","snake","dragon","catfish","bass","salmon","tuna","hammerhead","eel","carp","trout","mahi","snapper","bluegill","sole","cod","triceratops","edmontosaurus","saurolophus","liberty","justice","pangolin","turtle","tortoise","alligator","butterfly","iguana","pineapplefish","pinecone","anaconda","puffin","cardassian","cloud","nominal","ordinal","interval","ratio","vernier","lime","scala","boa","cobra","richter","kelvin","celsius","decibel","beaufort","mohs","pauling","python","mamba","alkaline","climb","moth","eagle","woodpecker","morpho","tautara","anoles","theropod","owl","frog","lionfish","morray","clownfish","ostrich","stork","egret","map","grue","tiyanki","broadnose","basking","goblin","porbeagle","chuckwalla","tawny","bramble","kitefin","agama","komodo","bull","monitor","chameleon","tegus","gecko","micro","gray","allosaurus","glyptodon","basilisk","cordylus","tegu","sailfin","mountain","dinosaur","goanna","herring","minnow","perch","coho","lake","arctic","pumpkinseed","gopher","chickadee","toad","shark","roach","tyrannosaurus","velociraptor","bee","bearded","beardie","pogona","chicken","hen","rooster","quail","grouse","universe","galaxy","atlas","wyvern","hydra","gorgon","chimera","ladon","scylla","mermaid","nessie","hippocampus","typhon","qilin","acoustic","alpha","altered","augmented","bebop","beta","blues","bushi","byzantine","chromatic","delta","diatonic","diminished","dominant","dorian","enigmatic","freygish","gamma","harmonic","heptatonic","hexatonic","hirajoshi","in","insen","istrian","iwato","jazz","locrian","major","minor","mixolydian","musical","octatonic","pentatonic","phrygian","pierce","prometheus","pythagorean","symmetric","tet","tone","tritone","yo","beaver","hops","salak","mercat","great","emperor","adelie","chinstrap","gentoo","little","banded","magellanic","humboldt","crested","fiordland","snares","rockhopper","royal","macaroni","vibe","vibes","banana","ulmer","bortle","palermo","torino","forel","ule","pyruvate","kardashev","ionian","aeolian","sunfish","gar","pike","muskellunge","pickerel","ruffe","walleye","bowfin","burbot","goldeye","mooneye","dace","quillback","stonecat","albacore","alewife","amberjack","codlet","char","searobin","arowana","bonito","saury","ayu","silverside","banjo","barb","barbel","bangus","banfish","ray","danio","betta","bigeye","bicolor","bitterling","bleak","blenny","boga","duck","brill","brotula","buri","goby","catla","chimaera","cobia","dab","darter","discus","duckbill","drum","elver","featherback","garibaldi","ghost","ghoul","dojo","hake","halfmoon","halfbeak","hamlet","halibut","halosaur","hoki","huchen","ide","inanga","ilish","inconnu","dory","koi","kanyu","kokanue","lenok","ling","manta","marlin","mora","mulley","stargazer","nase","neon","daggertooth","noodlefish","notothen","tetra","orfe","opah","opaleye","pancake","panga","paradise","parore","pirarucu","pirate","platy","pleco","powan","pomano","paridae","porgy","rohu","rudd","skate","squeaker","tailor","uaru","vimba","wahoo","zebra","coelacanth","gila","monster","sun","cirius","canopus","arcturus","vega","capella","rigel","procyon","achernar","betelgeuse","hadar","altair","acrux","aldebaran","antares","spica","pollux","fomalhaut","deneb","mimosa","regulus","adhara","shaula","castor","gacrux","bellatrix","elnath","miaplacidus","alnilam","alnair","alnitak","alioth","dubhe","mirfak","wezen","sargas","avior","alkaid","menkalinan","atria","alhena","peacock","alsephina","mirzam","alphard","polaris","hamal","algieba","diphda","mizar","nunki","menkent","mirach","alpheratz","kochab","saiph","denebola","algol","tiaki","mintaka","draconis","centauri","becrux","godzilla","sirius","vector"];class j{#e;set webDavUrl(e){this.#e.webDavUrl=e,this.#t()}get webDavUrl(){return this.#a(),this.#e.webDavUrl}set webDavUsername(e){this.#e.webDavUsername=e,this.#t()}get webDavUsername(){return this.#a(),this.#e.webDavUsername}set webDavPassword(e){this.#e.webDavPassword=e,this.#t()}get webDavPassword(){return this.#a(),this.#e.webDavPassword}set deviceId(e){this.#e.deviceId=e,this.#t()}get deviceId(){return this.#a(),this.#e.deviceId}set meteredApiKey(e){this.#e.meteredApiKey=e,this.#t()}get meteredApiKey(){return this.#a(),this.#e.meteredApiKey}get webDavCreds(){return this.#a(),{url:this.#e.webDavUrl,username:this.#e.webDavUsername,password:this.#e.webDavPassword}}get isValid(){return this.#a(),this.#n(this.#e.webDavUrl)&&""!==this.#e.deviceId&&""!==this.#e.meteredApiKey}#n(e){try{return new URL(e),!0}catch(e){return!1}}#a(){this.#e=JSON.parse(localStorage.getItem("config")),this.#e||(this.#e={webDavUrl:"",webDavUsername:"",webDavPassword:"",deviceId:function(){let e=Math.floor(Math.random()*O.length),t=Math.floor(Math.random()*H.length);return`${O[e]}-${H[t]}`}(),meteredApiKey:""},this.#t())}#t(){localStorage.setItem("config",JSON.stringify(this.#e))}}var $={};(W="undefined"==typeof DO_NOT_EXPORT_CRC?$:{}).version="1.2.2",G=(K=function(e){var t=0,a=0,n=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):Array(4096);for(n=0;256!=n;++n)i[n]=e[n];for(n=0;256!=n;++n)for(a=e[n],t=256+n;t<4096;t+=256)a=i[t]=a>>>8^e[255&a];var r=[];for(n=1;16!=n;++n)r[n-1]="undefined"!=typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return r}(B=function(){for(var e=0,t=Array(256),a=0;256!=a;++a)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=a)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[a]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}()))[0],J=K[1],X=K[2],Q=K[3],Y=K[4],Z=K[5],ee=K[6],et=K[7],ea=K[8],en=K[9],ei=K[10],er=K[11],eo=K[12],es=K[13],el=K[14],W.table=B,W.bstr=function(e,t){for(var a=-1^t,n=0,i=e.length;n<i;)a=a>>>8^B[(a^e.charCodeAt(n++))&255];return~a},W.buf=function(e,t){for(var a=-1^t,n=e.length-15,i=0;i<n;)a=el[e[i++]^255&a]^es[e[i++]^a>>8&255]^eo[e[i++]^a>>16&255]^er[e[i++]^a>>>24]^ei[e[i++]]^en[e[i++]]^ea[e[i++]]^et[e[i++]]^ee[e[i++]]^Z[e[i++]]^Y[e[i++]]^Q[e[i++]]^X[e[i++]]^J[e[i++]]^G[e[i++]]^B[e[i++]];for(n+=15;i<n;)a=a>>>8^B[(a^e[i++])&255];return~a},W.str=function(e,t){for(var a=-1^t,n=0,i=e.length,r=0,o=0;n<i;)(r=e.charCodeAt(n++))<128?a=a>>>8^B[(a^r)&255]:r<2048?a=(a=a>>>8^B[(a^(192|r>>6&31))&255])>>>8^B[(a^(128|63&r))&255]:r>=55296&&r<57344?(r=(1023&r)+64,o=1023&e.charCodeAt(n++),a=(a=(a=(a=a>>>8^B[(a^(240|r>>8&7))&255])>>>8^B[(a^(128|r>>2&63))&255])>>>8^B[(a^(128|o>>6&15|(3&r)<<4))&255])>>>8^B[(a^(128|63&o))&255]):a=(a=(a=a>>>8^B[(a^(224|r>>12&15))&255])>>>8^B[(a^(128|r>>6&63))&255])>>>8^B[(a^(128|63&r))&255];return~a};class q{#i;#r=new Map;constructor(e){this.#i=e}async loadFiles(){await this.#o(),console.log(this.#r)}async sendAll(e){for(let t of Array.from(this.#r.values()))await this.sendFile(t,e)}async #o(){for await(let e of(this.#r.clear(),this.#i.values()))if("file"===e.kind){let t=await e.getFile(),a=$.str(t.name);this.#r.set(a,{name:t.name,size:t.size,handle:t,local:!0})}}async sendFile(e,t){let a=0,n=e.size;t({type:"file",value:{name:e.name,size:e.size}});let i=$.str(e.name);for(;n>0;){let r=new ArrayBuffer(8),o=new DataView(r);o.setInt32(0,i,!0),o.setUint32(4,a,!0);let s=8192;n<8192&&(s=n);let l=e.handle.slice(a,s+a);a+=s,n-=s;let c=new Blob([r,l]);t(await c.arrayBuffer())}}async createFile(e){let t=$.str(e.name);if(this.#r.has(t)&&this.#r.get(t).local)return;let a=await this.#i.getFileHandle(e.name,{create:!0}),n=await a.createWritable();this.#r.set(t,{name:e.name,size:e.size,written:0,handle:a,writeable:n,local:!1})}async writeFile(e){let t=e.slice(0,8),a=new DataView(t),n=a.getInt32(0,!0),i=a.getUint32(4,!0),r=e.slice(8),o=this.#r.get(n);o&&o.writeable&&(await o.writeable.seek(i),await o.writeable.write(r),o.written+=r.byteLength,console.log(`written ${o.written} out of ${o.size}`),o.written===o.size&&(await o.writeable.close(),this.#r.set(n,{name:o.name,size:o.size,handle:o.handle,local:!1})))}static async open(){let e=new q(await showDirectoryPicker({mode:"readwrite"}));return await e.loadFiles(),e}}const M=new j;function R({isOpen:e,onClose:t}){let a=e=>{M[e.currentTarget.name]=e.currentTarget.value};return v("div",null,v("div",{class:"field"},v("label",{class:"label"},"WebDav URL"),v("div",{class:"control"},v("input",{class:"input",type:"url",name:"webDavUrl",placeholder:"https://webdav.example/folder",value:M.webDavUrl,onInput:a}))),v("div",{class:"field"},v("label",{class:"label"},"WebDav username"),v("div",{class:"control"},v("input",{class:"input",type:"text",name:"webDavUsername",value:M.webDavUsername,onInput:a}))),v("div",{class:"field"},v("label",{class:"label"},"WebDav password"),v("div",{class:"control"},v("input",{class:"input",type:"password",name:"webDavPassword",value:M.webDavPassword,onInput:a}))),v("div",{class:"field"},v("label",{class:"label"},"Device name"),v("div",{class:"control"},v("input",{class:"input",type:"text",name:"deviceId",value:M.deviceId,onInput:a}))),v("div",{class:"field"},v("label",{class:"label"},"metered.ca API key"),v("div",{class:"control"},v("input",{class:"input",type:"text",name:"meteredApiKey",value:M.meteredApiKey,onInput:a}))))}function V({value:e,onChange:t,onFolderPick:a,disabled:n}){let i="";return(e=e.trim()).match(/^https?:/)&&(i=v("a",{href:e,target:"_blank"},"Open link")),v("div",null,v("div",{class:"field"},v("div",{class:"control"},v("button",{class:"button",onClick:a},"Load local folder"))),v("div",{class:"field"},v("div",{class:"control"},v("textarea",{class:"textarea is-medium",value:e,onInput:e=>t(e.currentTarget.value),disabled:n}))),i)}var W,B,K,G,J,X,Q,Y,Z,ee,et,ea,en,ei,er,eo,es,el,ec,eu,eh,e_,ed=0,ep=[],ef=[],em=l.__b,eg=l.__r,eb=l.diffed,ey=l.__c,ev=l.unmount;function ew(e,t){l.__h&&l.__h(eu,e,ed||t),ed=0;var a=eu.__H||(eu.__H={__:[],__h:[]});return e>=a.__.length&&a.__.push({__V:ef}),a.__[e]}function ek(e){return ed=1,function(e,t,a){var n=ew(ec++,2);if(n.t=e,!n.__c&&(n.__=[a?a(t):eA(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],a=n.t(t,e);t!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=eu,!eu.u)){var i=function(e,t,a){if(!n.__c.__H)return!0;var i=n.__c.__H.__.filter(function(e){return e.__c});if(i.every(function(e){return!e.__N}))return!r||r.call(this,e,t,a);var o=!1;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}}),!(!o&&n.__c.props===e)&&(!r||r.call(this,e,t,a))};eu.u=!0;var r=eu.shouldComponentUpdate,o=eu.componentWillUpdate;eu.componentWillUpdate=function(e,t,a){if(this.__e){var n=r;r=void 0,i(e,t,a),r=n}o&&o.call(this,e,t,a)},eu.shouldComponentUpdate=i}return n.__N||n.__}(eA,e)}function eC(e,t){var a,n=ew(ec++,3);!l.__s&&(!(a=n.__H)||a.length!==t.length||t.some(function(e,t){return e!==a[t]}))&&(n.__=e,n.i=t,eu.__H.__h.push(n))}function eD(){for(var e;e=ep.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(eE),e.__H.__h.forEach(eS),e.__H.__h=[]}catch(t){e.__H.__h=[],l.__e(t,e.__v)}}l.__b=function(e){eu=null,em&&em(e)},l.__r=function(e){eg&&eg(e),ec=0;var t=(eu=e.__c).__H;t&&(eh===eu?(t.__h=[],eu.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=ef,e.__N=e.i=void 0})):(t.__h.forEach(eE),t.__h.forEach(eS),t.__h=[],ec=0)),eh=eu},l.diffed=function(e){eb&&eb(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==ep.push(t)&&e_===l.requestAnimationFrame||((e_=l.requestAnimationFrame)||function(e){var t,a=function(){clearTimeout(n),ex&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(a,100);ex&&(t=requestAnimationFrame(a))})(eD)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==ef&&(e.__=e.__V),e.i=void 0,e.__V=ef})),eh=eu=null},l.__c=function(e,t){t.some(function(e){try{e.__h.forEach(eE),e.__h=e.__h.filter(function(e){return!e.__||eS(e)})}catch(a){t.some(function(e){e.__h&&(e.__h=[])}),t=[],l.__e(a,e.__v)}}),ey&&ey(e,t)},l.unmount=function(e){ev&&ev(e);var t,a=e.__c;a&&a.__H&&(a.__H.__.forEach(function(e){try{eE(e)}catch(e){t=e}}),a.__H=void 0,t&&l.__e(t,a.__v))};var ex="function"==typeof requestAnimationFrame;function eE(e){var t=eu,a=e.__c;"function"==typeof a&&(e.__c=void 0,a()),eu=t}function eS(e){var t=eu;e.__c=e.__(),eu=t}function eA(e,t){return"function"==typeof t?t(e):t}const eI="offer-",eN="answer-";class eT{#s;#l=new Headers;#c=new DOMParser;constructor(e){let t=e.url;if(t.endsWith("/")||(t+="/"),this.#s=new URL(t),e){let{username:t,password:a}=e,n=`Basic ${btoa(`${t}:${a}`)}`;this.#l.append("Authorization",n)}}async getOffer(e){return this.#u(`${eI}${e}`)}async setOffer(e,t){try{await this.#h(`${eN}${e}`)}catch(e){}return this.#_(`${eI}${e}`,t)}async getAnswer(e){return this.#u(`${eN}${e}`)}async setAnswer(e,t){return this.#_(`${eN}${e}`,t)}async listActiveIds(){return await this.#d(),(await this.#o()).filter(({name:e})=>e.startsWith(eI)).sort((e,t)=>{let a=e.timestamp;return t.timestamp-a}).map(({name:e})=>e.replace(eI,""))}async #u(e){let t=new URL(e,this.#s);try{let e=await fetch(t,{headers:this.#l});return{timestamp:new Date(e.headers.get("Last-Modified")).getTime(),sdp:await e.text()}}catch(e){return null}}async #_(e,t){let a=new URL(e,this.#s),n=new Headers(this.#l);n.set("Content-Type","text/plain"),await fetch(a,{method:"PUT",body:t,headers:n})}async #h(e){let t=new URL(e,this.#s);await fetch(t,{method:"DELETE",headers:this.#l})}async #o(){let e=new Headers(this.#l);e.set("Content-Type","text/xml");let t=await fetch(this.#s,{method:"PROPFIND",body:'<?xml version="1.0"?><D:propfind xmlns:D="DAV:"><D:prop><D:resourcetype/><D:getlastmodified/></D:prop></D:propfind>',headers:e}),a=await t.text(),n=this.#c.parseFromString(a,"text/xml"),i=[],r=this.#s.pathname;for(let e of n.getElementsByTagNameNS("DAV:","response")){if(e.querySelector("propstat > prop > resourcetype > collection"))continue;let t=e.querySelector("href").textContent.trim();if(!t.startsWith(r)||(t=t.replace(r,"")).indexOf("/")>-1)continue;let a=e.querySelector("propstat > prop > getlastmodified").textContent.trim();i.push({name:t,timestamp:new Date(a).getTime()})}return i}async #d(){let e=await this.#o(),t=[];for(let{name:a,timestamp:n}of e)(a.startsWith(eI)||a.startsWith(eN))&&Date.now()-n>36e5&&t.push(this.#h(a));await Promise.all(t)}}const ez=Object.freeze({INACTIVE:Symbol("inactive"),CONNECTING:Symbol("connecting"),CONNECTED:Symbol("connected")});class eU extends Event{state;constructor(e){super("state"),this.state=e}}class eF extends Event{type;data;constructor(e){super("message"),"string"==typeof e?(this.data=JSON.parse(e),this.type="json"):e instanceof ArrayBuffer&&(this.data=e,this.type="blob")}}class eP extends EventTarget{connection;#p=ez.INACTIVE;#f;constructor(e){super(),this.connection=this.#m(e)}get state(){return this.#p}set state(e){this.#p!=e&&(this.#p=e,this.dispatchEvent(new eU(e)))}get channel(){return this.#f}set channel(e){this.#f&&this.#f.close(),this.#f=e,this.#f.binaryType="arraybuffer",this.#f.addEventListener("open",this.#g),this.#f.addEventListener("close",this.#g),this.#f.addEventListener("closing",this.#g),this.#f.addEventListener("error",this.#g),this.#f.addEventListener("message",e=>this.dispatchEvent(new eF(e.data)))}sendMessage(e){return!!this.#f&&"open"===this.#f.readyState&&(e instanceof ArrayBuffer?this.#f.send(e):this.#f.send(JSON.stringify(e)),!0)}close(){this.#f&&this.#f.close(),this.connection.close()}async recreate(){this.close();let e=await this.connection.getConfiguration();this.connection=this.#m(e)}#m(e){let t=new RTCPeerConnection(e);return t.addEventListener("connectionstatechange",()=>{console.log(`Connection state: ${event.target.connectionState}`),this.#g()}),t.addEventListener("icegatheringstatechange",()=>{console.log(`ICE state: ${event.target.iceGatheringState}`)}),t.addEventListener("datachannel",this.#g),t.onsignalingstatechange=async e=>{console.log(`Signal state: ${e.target.signalingState}`)},t}#b(){switch(this.connection.connectionState){case"closed":case"new":case"disconnected":case"failed":return ez.INACTIVE;case"connected":if(this.#f&&"open"===this.#f.readyState)return ez.CONNECTED;return ez.CONNECTING;case"connecting":return ez.CONNECTING}}#g=()=>{this.state=this.#b()}}class eL extends eP{id;#y;#v=0;constructor(e,t){super(e),this.#y=t,this.connection.ondatachannel=e=>{this.channel=e.channel},this.connection.onicecandidate=async e=>{this.id&&(await this.#y.setAnswer(this.id,e.target.localDescription.sdp),console.log("sent new answer"))}}async connect(e){this.id||(this.id=e,this.#w())}#w=async()=>{if(this.id){if(this.state!==ez.CONNECTED){let e=await this.#y.getOffer(this.id);if(e||(this.#v=0),e&&e.timestamp>this.#v){this.#v=e.timestamp,await this.connection.setRemoteDescription({sdp:e.sdp,type:"offer"});let t=await this.connection.createAnswer();await this.connection.setLocalDescription(t),console.log("got new offer")}}setTimeout(this.#w,5e3)}}}const eO=new j;let eH=null;function ej({id:e,iceServers:t}){let a=new eT(eO.webDavCreds),[n,i]=ek(ez.INACTIVE),[r,o]=ek(""),[s,l]=ek(null);return eC(()=>{let n=new eL({iceServers:t},a);return n.addEventListener("message",({type:e,data:t})=>{"json"===e?"text"===t.type?o(t.value):"file"===t.type&&eH.createFile(t.value):eH.writeFile(t)}),n.addEventListener("state",e=>{i(e.state)}),n.connect(e),l(n),()=>{n.close()}},[e]),v(V,{value:r,onChange:e=>{o(e),s.sendMessage({type:"text",value:e})},onFolderPick:async()=>{eH=await q.open(),await eH.sendAll(e=>s.sendMessage(e))},disabled:n!==ez.CONNECTED})}function e$(){return v("article",{class:"message is-warning"},v("div",{class:"message-header"},v("p",null,"Config error"),v("button",{class:"delete","aria-label":"delete"})),v("div",{class:"message-body"},"Missing or invalid config."))}const eq=new j;function eM({iceServers:e}){if(!eq.isValid)return v(e$,null);let t=new eT(eq.webDavCreds),[a,n]=ek(""),[i,r]=ek([]);eC(()=>{let e=async()=>{r(await t.listActiveIds())};e();let a=setInterval(e,5e3);return()=>{clearInterval(a)}},[]);let o=i.map(e=>v("button",{class:"button is-rounded"+(e===a?" is-primary":""),onClick:()=>{n(e)}},e)),s="";return a&&(s=v(ej,{id:a,iceServers:e})),v("div",null,v("div",{class:"buttons"},o),s)}class eR extends eP{id;#k=0;#C=!1;#y;constructor(e,t){super(e),this.#y=t,this.connection.onnegotiationneeded=async e=>{let t=await e.target.createOffer();await e.target.setLocalDescription(t)},this.connection.onconnectionstatechange=async e=>{"failed"===e.target.connectionState?this.#C&&await this.#D():"connected"===e.target.connectionState&&(this.#C=!0)},this.connection.onicecandidate=async e=>{this.id&&await this.#y.setOffer(this.id,e.target.localDescription.sdp)}}start(e){this.id||(this.id=e,this.#x(),this.#E())}async #D(){this.#C=!1,this.#x();let e=await this.connection.createOffer({iceRestart:!0});await this.connection.setLocalDescription(e)}#x(){this.channel=this.connection.createDataChannel("data",{ordered:!0})}#E=async()=>{if(this.id){if("have-local-offer"===this.connection.signalingState){let e=await this.#y.getAnswer(this.id);e&&e.timestamp>this.#k&&(this.#k=e.timestamp,await this.connection.setRemoteDescription({sdp:e.sdp,type:"answer"}))}setTimeout(this.#E,5e3)}}}const eV=new j;let eW=null;function eB({iceServers:e}){if(!eV.isValid)return v(e$,null);let t=new eT(eV.webDavCreds),a=eV.deviceId,[n,i]=ek(ez.INACTIVE),[r,o]=ek(""),[s,l]=ek(null);return eC(()=>{let n=new eR({iceServers:e},t);return n.addEventListener("message",({type:e,data:t})=>{"json"===e?"text"===t.type?o(t.value):"file"===t.type&&eW.createFile(t.value):eW.writeFile(t)}),n.addEventListener("state",e=>{i(e.state)}),n.start(a),l(n),()=>{n.close()}},[a]),v(V,{value:r,onChange:e=>{o(e),s.sendMessage({type:"text",value:e})},onFolderPick:async()=>{eW=await q.open(),await eW.sendAll(e=>s.sendMessage(e))},disabled:n!==ez.CONNECTED})}function eK({active:e,onTabClick:t}){return v("div",{class:"tabs is-centered is-boxed is-medium"},v("ul",null,v("li",{class:"client"!==e&&"server"!==e?"is-active":""},v("a",{onClick:()=>t("config")},v("span",{class:"icon is-small"},v("i",{class:"fas fa-image","aria-hidden":"true"})),v("span",null,"Config"))),v("li",{class:"server"===e?"is-active":""},v("a",{onClick:()=>t("server")},v("span",{class:"icon is-small"},v("i",{class:"fas fa-music","aria-hidden":"true"})),v("span",null,"Server"))),v("li",{class:"client"===e?"is-active":""},v("a",{onClick:()=>t("client")},v("span",{class:"icon is-small"},v("i",{class:"fas fa-film","aria-hidden":"true"})),v("span",null,"Client")))))}let eG=[];async function eJ(e){if(0===eG.length)try{let t=await fetch(`https://metered.live/api/v1/turn/credentials?apiKey=${e}`);eG=await t.json()}catch(e){eG=[]}return eG}const eX=new j;e=v(function(){let[e,t]=ek(location.hash.replace("#","")),[a,n]=ek();eC(async()=>{n(await eJ(eX.meteredApiKey))},[]),eC(()=>{let e=()=>{t(location.hash.replace("#",""))};return addEventListener("hashchange",e),addEventListener("popstate",e),()=>{removeEventListener("hashchange",e),removeEventListener("popstate",e)}},[]);let i=v(R,null);return"server"===e?i=v(eB,{iceServers:a}):"client"===e&&(i=v(eM,{iceServers:a})),v("div",{class:"container"},v("div",{class:"box"},v(eK,{active:e,onTabClick:e=>{history.pushState(null,null,"#"+e),t(e)}}),i))},null),t=document.body,l.__&&l.__(e,t),i=(n="function"==typeof a)?null:a&&a.__k||t.__k,r=[],o=[],z(t,e=(!n&&a||t).__k=v(k,null,[e]),i||p,p,void 0!==t.ownerSVGElement,!n&&a?[a]:i?null:t.firstChild?s.call(t.childNodes):null,r,!n&&a?a:i?i.__e:t.firstChild,n,o),U(r,e,o);
//# sourceMappingURL=index.19cba80c.js.map
